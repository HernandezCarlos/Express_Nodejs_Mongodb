<% include ../partials/head %>
<div class="container">  
  <div class="row p-5">
    <% for(var i=0; i < productos.length; i++) { %>
        <div class="col-md-4">
            <div class="p-4">
                <div class="card"> 
                  <img src="<%= productos[i].cover %>" class="card-img-top">
                  <div class="card-body">
                    <h3 class="card-title"><%= productos[i].nombre %></h3>
                    <p class="card-text"><%= productos[i].categoria %></p>
                    <p class="card-text"><%= productos[i].precio %></p>
                  </div>
                </div>
            </div>
        </div>
     <% } %>
  </div>

    <div class="row">
    <!-- pagination -->
    <% if(pages > 0) { %> <!-- show pagination if there is pages -->
      <nav class="mx-auto">
        <ul class="pagination">
          <!-- PRIMER ITEM -->
          <% if(current == 1) { %>
            <li class="page-item disabled">
              <a class="page-link" href="#">Primero</a>
            </li>
          <% } else { %>
            <li class="page-item">
              <a class="page-link" href="/productos/1">Primero</a>
            </li>
          <% } %>
          <!-- ITEMS  -->
          <% var i = (Number(current) > 5 ? Number(current) - 4 : 1) %>
          <% if(i !== 1) { %>
            <li class="page-item disabled">
              <a class="page-link" href="#">...</a>
            </li>
          <% } %>
          <% for(; i <= (Number(current) + 4) && i <= pages; i++) { %>
            <% if(i == current) { %>
              <li class="page-item active">
                <a class="page-link" href="<%= i %>">
                  <%= i %>
                </a>
              </li>
            <% } else { %>
              <li class="page-item">
                <a class="page-link" href="/productos/<%= i %>">
                  <%= i %>
                </a>
              </li>
            <% } %>
            <% if (i == Number(current) + 4 && i < pages) { %>
               <li class="page-item disabled">
                 <a class="page-link" href="#">...</a>
               </li>
            <% } %>
          <% } %>
          <!-- ULTIMO ITEM -->
          <% if(current == pages) { %>
            <li class="page-item disabled">
              <a class="page-link" href="#">
                Ultimo
              </a>
            </li>
          <% } else { %>
            <li class="page-item">
              <a class="page-link" href="/productos/<%= pages %>">
                Ultimo
              </a>
            </li>
          <% } %>
        </ul>
      </nav>
    <% } %>
  </div>
</div>
 
<% include ../partials/footer %>